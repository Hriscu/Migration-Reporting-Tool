<!DOCTYPE html>
<html>
<head>
    <title>Migration Map</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Include Leaflet CSS -->
    <link rel="stylesheet" href="leaflet.css" />

    <!-- Include Leaflet JavaScript -->
    <script src="leaflet.js"></script>

    <style>
        #map {
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <!-- Include Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-dgZZZXc4Qy7VV/EXmjZf4QacYtn5xRQ4GaBtNU1tQBX0EYxLALQjmg0Fkn2aJ9aX1A9nGUhrY2sZLTiZwSn2Kw==" crossorigin=""></script>

    <script>
        // Initialize the map
        var map = L.map('map').setView([20, 0], 2);

        // Add a tile layer to the map
        var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: '© OpenStreetMap contributors'
        });

        var satellite = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: '© OpenStreetMap contributors, Humanitarian OSM'
        });

        osm.addTo(map);

        // Example migration datasets
        var birdMigrations = [
            { coords: [51.5074, -0.1278], description: "Bird migration in London." },
            { coords: [55.7558, 37.6173], description: "Bird migration in Moscow." }
        ];

        var humanMigrations = [
            { coords: [40.7128, -74.0060], description: "Seasonal migration in New York." },
            { coords: [34.0522, -118.2437], description: "Human migration in Los Angeles." }
        ];

        var extraterrestrialSightings = [
            { coords: [19.4326, -99.1332], description: "UFO spotted in Mexico City." },
            { coords: [28.6139, 77.2090], description: "UFO activity in Delhi." }
        ];

        // Define custom marker icon
        var customIcon = L.icon({
            iconUrl: 'marker-icon.png',
            iconSize: [25, 41],  // Size of the icon
            iconAnchor: [12, 41], // Point of the icon which will correspond to marker's location
            popupAnchor: [1, -34], // Popup anchor point
            shadowUrl: 'marker-shadow.png',
            shadowSize: [41, 41], // Shadow size
            shadowAnchor: [12, 41] // Shadow anchor point
        });

        // Create marker layers for each dataset with the custom icon
        function createMarkerLayer(data) {
            return L.layerGroup(
                data.map(event =>
                    L.marker(event.coords, { icon: customIcon }).bindPopup(event.description)
                )
            );
        }

        var birdLayer = createMarkerLayer(birdMigrations);
        var humanLayer = createMarkerLayer(humanMigrations);
        var extraterrestrialLayer = createMarkerLayer(extraterrestrialSightings);

        birdLayer.addTo(map);

        // Layer control
        var baseMaps = {
            "OpenStreetMap": osm,
            "Satellite": satellite
        };

        var overlayMaps = {
            "Bird Migrations": birdLayer,
            "Human Migrations": humanLayer,
            "Extraterrestrial Sightings": extraterrestrialLayer
        };

        L.control.layers(baseMaps, overlayMaps).addTo(map);

        // Add scale and zoom controls
        L.control.scale().addTo(map);

        // Event handler to log clicks for potential reporting
        map.on('click', function(e) {
            console.log(`Map clicked at ${e.latlng}`);
        });
    </script>
</body>
</html>
